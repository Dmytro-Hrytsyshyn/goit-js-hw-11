{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function fetchImages(query) {\n    const API_KEY = '45536153-cc603d9bdbd983a3052077003'; \n    const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n    \n    const response = await fetch(URL);\n    if (!response.ok) {\n        throw new Error('Failed to fetch images');\n    }\n    const data = await response.json();\n    return data;\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.js-gallery');\n    gallery.innerHTML = '';\n}\n\nexport function renderGallery(images, gallery) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li>\n            <a class=\"gallery__item\" href=\"${largeImageURL}\">\n                <img class=\"gallery__image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n            </a>\n            <div class=\"image-info\">\n                <div class=\"image-info-item\">Likes<span>${likes}</span></div>\n                <div class=\"image-info-item\">Views<span>${views}</span></div>\n                <div class=\"image-info-item\">Comments<span>${comments}</span></div>\n                <div class=\"image-info-item\">Downloads<span>${downloads}</span></div>\n            </div>\n        </li>\n    `).join('');\n\n    gallery.innerHTML = markup;\n    refreshLightbox();\n}\n\n\nexport function showLoader() {\n    const loader = document.createElement('div');\n    loader.classList.add('loader');\n    document.body.appendChild(loader);\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.remove();\n    }\n}\n\nexport function showNotification(message) {\n    iziToast.show({\n        message,\n        position: 'topRight',\n    });\n}\n\nfunction refreshLightbox() {\n    const lightbox = new SimpleLightbox('.js-gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    lightbox.refresh();\n}\n","\nimport { fetchImages } from './js/pixabay-api';\nimport { renderGallery, clearGallery, showLoader, hideLoader, showNotification } from './js/render-functions';\n\nconst searchForm = document.querySelector('.form'); \nconst searchInput = document.querySelector('.input'); \nconst gallery = document.querySelector('.js-gallery'); \n\nsearchForm.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const query = searchInput.value.trim();\n\n    if (!query) {\n        showNotification('Please enter a search query');\n        return;\n    }\n\n    clearGallery(); \n    showLoader(); \n\n    fetchImages(query)\n        .then(data => {\n            hideLoader(); \n\n            if (data.hits.length === 0) {\n                showNotification('Sorry, there are no images matching your search query. Please try again!');\n                return;\n            }\n\n            renderGallery(data.hits, gallery); \n        })\n        .catch(error => {\n            hideLoader();\n            showNotification('Failed to load images. Please try again later.');\n        });\n});\n"],"names":["fetchImages","query","URL","response","clearGallery","gallery","renderGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","refreshLightbox","showLoader","loader","hideLoader","showNotification","message","iziToast","SimpleLightbox","searchForm","searchInput","event","data","error"],"mappings":"6vBAAO,eAAeA,EAAYC,EAAO,CAErC,MAAMC,EAAM,qEAA6CD,CAAK,2DAExDE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAG5C,OADa,MAAMA,EAAS,MAEhC,CCLO,SAASC,GAAe,CAC3B,MAAMC,EAAU,SAAS,cAAc,aAAa,EACpDA,EAAQ,UAAY,EACxB,CAEO,SAASC,EAAcC,EAAQF,EAAS,CAC3C,MAAMG,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,6CAE/DL,CAAa;AAAA,mDACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,0DAGnBC,CAAK;AAAA,0DACLC,CAAK;AAAA,6DACFC,CAAQ;AAAA,8DACPC,CAAS;AAAA;AAAA;AAAA,KAGlE,EAAE,KAAK,EAAE,EAEVV,EAAQ,UAAYG,EACpBQ,GACJ,CAGO,SAASC,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,SAAS,KAAK,YAAYA,CAAM,CACpC,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,OAAM,CAErB,CAEO,SAASE,EAAiBC,EAAS,CACtCC,EAAS,KAAK,CACV,QAAAD,EACA,SAAU,UAClB,CAAK,CACL,CAEA,SAASL,GAAkB,CACN,IAAIO,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GACtB,CAAK,EACQ,QAAO,CACpB,CCpDA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAc,SAAS,cAAc,QAAQ,EAC7CpB,EAAU,SAAS,cAAc,aAAa,EAEpDmB,EAAW,iBAAiB,SAAWE,GAAU,CAC7CA,EAAM,eAAc,EACpB,MAAMzB,EAAQwB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACxB,EAAO,CACRmB,EAAiB,6BAA6B,EAC9C,MACH,CAEDhB,IACAa,IAEAjB,EAAYC,CAAK,EACZ,KAAK0B,GAAQ,CAGV,GAFAR,IAEIQ,EAAK,KAAK,SAAW,EAAG,CACxBP,EAAiB,0EAA0E,EAC3F,MACH,CAEDd,EAAcqB,EAAK,KAAMtB,CAAO,CAC5C,CAAS,EACA,MAAMuB,GAAS,CACZT,IACAC,EAAiB,gDAAgD,CAC7E,CAAS,CACT,CAAC"}